
Solution of a problem in concurrent programming control

Boolean array b, c[1:N]; int k (1 <= k <= N)
b and c are set to true; the starting value of k is immaterial

int j
Li0: b[i] = false
Li1: if k != i then
Li2:   begin c[i] = true
Li3:     if b[k] then k = i
         go to Li1
       end
     else
Li4:   begin c[i] = false
         for j = 1 step 1 until N do
           if j != i and !c[j] then go to Li1
       end
       ;; critical section
       c[i] = true
       b[i] = true
       remainder of the cycle in whihc stopping is allowed;
       go to Li0
